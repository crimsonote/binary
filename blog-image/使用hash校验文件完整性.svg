<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="277px" preserveAspectRatio="none" style="width:1289px;height:277px;" version="1.1" viewBox="0 0 1289 277" width="1289px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tmtz3xwvvufh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#CD853F" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="201" x="550" y="18.9492">使用hash校验文件完整性</text><!--cluster 文件发布--><polygon fill="#ADFF2F" filter="url(#f1tmtz3xwvvufh)" points="22,58.293,32,48.293,513,48.293,513,135.293,503,145.293,22,145.293,22,58.293" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="503" x2="512" y1="58.293" y2="49.293"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="503" y1="58.293" y2="58.293"/><line style="stroke: #000000; stroke-width: 1.5;" x1="503" x2="503" y1="58.293" y2="145.293"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="233.5" y="76.0313">文件发布</text><!--cluster 文件接收--><polygon fill="#1E90FF" filter="url(#f1tmtz3xwvvufh)" points="537,58.293,547,48.293,1267,48.293,1267,255.293,1257,265.293,537,265.293,537,58.293" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1257" x2="1266" y1="58.293" y2="49.293"/><line style="stroke: #000000; stroke-width: 1.5;" x1="537" x2="1257" y1="58.293" y2="58.293"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1257" x2="1257" y1="58.293" y2="265.293"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="868" y="76.0313">文件接收</text><!--entity 计算待发布文件hash--><rect fill="#FEFECE" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="37.5" y="90.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="32.5" y="95.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="32.5" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="47.5" y="115.0313">计算待发布文件hash</text><!--entity 将待发布文件和文件hash上传至发布网站--><rect fill="#FEFECE" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="275" x="221.5" y="90.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="216.5" y="95.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="216.5" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="255" x="231.5" y="115.0313">将待发布文件和文件hash上传至发布网站</text><!--entity 从发布网站获取文件和hash--><rect fill="#FEFECE" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="553.5" y="90.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="548.5" y="95.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="548.5" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="563.5" y="115.0313">从发布网站获取文件和hash</text><!--entity 本地计算文件hash值--><rect fill="#FEFECE" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="779.5" y="90.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="774.5" y="95.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="774.5" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="789.5" y="115.0313">本地计算文件hash值</text><!--entity 比较hash值是否一致--><rect fill="#FEFECE" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="963.5" y="90.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="958.5" y="95.293"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="958.5" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="973.5" y="115.0313">比较hash值是否一致</text><!--entity 校验通过--><rect fill="#7CFC00" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="1175" y="90.293"/><rect fill="#7CFC00" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1170" y="95.293"/><rect fill="#7CFC00" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1170" y="119.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1185" y="115.0313">校验通过</text><!--entity 校验失败--><rect fill="#FF0000" filter="url(#f1tmtz3xwvvufh)" height="38.8945" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="1000" y="210.293"/><rect fill="#FF0000" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="995" y="215.293"/><rect fill="#FF0000" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="995" y="239.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1010" y="235.0313">校验失败</text><!--link 计算待发布文件hash to 将待发布文件和文件hash上传至发布网站--><path d="M186.78,109.793 C196.61,109.793 206.44,109.793 216.28,109.793 " fill="none" id="计算待发布文件hash-&gt;将待发布文件和文件hash上传至发布网站" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="221.42,109.793,212.42,105.793,216.42,109.793,212.42,113.793,221.42,109.793" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 将待发布文件和文件hash上传至发布网站 to 从发布网站获取文件和hash--><path d="M496.64,124.383 C513.81,124.553 530.98,124.113 548.15,123.063 " fill="none" id="将待发布文件和文件hash上传至发布网站-&gt;从发布网站获取文件和hash" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="553.48,122.713,544.2364,119.3135,548.4908,123.0418,544.7625,127.2962,553.48,122.713" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 从发布网站获取文件和hash to 本地计算文件hash值--><path d="M744.69,109.793 C754.51,109.793 764.33,109.793 774.14,109.793 " fill="none" id="从发布网站获取文件和hash-&gt;本地计算文件hash值" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="779.28,109.793,770.28,105.793,774.28,109.793,770.28,113.793,779.28,109.793" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 本地计算文件hash值 to 比较hash值是否一致--><path d="M928.75,109.793 C938.56,109.793 948.37,109.793 958.19,109.793 " fill="none" id="本地计算文件hash值-&gt;比较hash值是否一致" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="963.32,109.793,954.32,105.793,958.32,109.793,954.32,113.793,963.32,109.793" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 比较hash值是否一致 to 校验通过--><path d="M1112.72,109.793 C1132.09,109.793 1152.3,109.793 1169.47,109.793 " fill="none" id="比较hash值是否一致-&gt;校验通过" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1174.7,109.793,1165.7,105.793,1169.7,109.793,1165.7,113.793,1174.7,109.793" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="1130.75" y="102.4785">一致</text><!--link 比较hash值是否一致 to 校验失败--><path d="M1038,129.493 C1038,149.943 1038,182.783 1038,205.043 " fill="none" id="比较hash值是否一致-&gt;校验失败" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1038,210.183,1042,201.183,1038,205.183,1034,201.183,1038,210.183" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1039" y="175.9785">不一致</text><!--
@startuml
skinparam TitleFontColor peru
title 使用hash校验文件完整性
node "文件发布" #greenyellow {
[计算待发布文件hash] -> [将待发布文件和文件hash上传至发布网站]
}
node "文件接收" #dodgerblue {
[将待发布文件和文件hash上传至发布网站] -> [从发布网站获取文件和hash]
[从发布网站获取文件和hash] -> [本地计算文件hash值]
[本地计算文件hash值] -> [比较hash值是否一致]
[校验通过] #lawngreen
[校验失败] #red
[比较hash值是否一致] -> [校验通过] : 一致
[比较hash值是否一致] -down-> [校验失败] : 不一致
}
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_252-b09
Operating System: Linux
OS Version: 5.4.52-1-MANJARO
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>