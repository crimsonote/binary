<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="410px" preserveAspectRatio="none" style="width:1079px;height:410px;" version="1.1" viewBox="0 0 1079 410" width="1079px" zoomAndPan="magnify"><defs><filter height="300%" id="ffispdra4rdmd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--entity Alice--><ellipse cx="21" cy="325" fill="#FEFECE" filter="url(#ffispdra4rdmd)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M21,333 L21,360 M8,341 L34,341 M21,360 L8,375 M21,360 L34,375 " fill="none" filter="url(#ffispdra4rdmd)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="6.5" y="396.7383">Alice</text><!--entity Bob--><ellipse cx="551" cy="325" fill="#FEFECE" filter="url(#ffispdra4rdmd)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M551,333 L551,360 M538,341 L564,341 M551,360 L538,375 M551,360 L564,375 " fill="none" filter="url(#ffispdra4rdmd)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="538.5" y="396.7383">Bob</text><ellipse cx="397.8705" cy="30.2741" fill="#FEFECE" filter="url(#ffispdra4rdmd)" rx="99.3705" ry="22.2741" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="313.8705" y="36.2214">密钥分发服务器[key server]</text><!--entity Charlie--><ellipse cx="398" cy="142" fill="#FEFECE" filter="url(#ffispdra4rdmd)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M398,150 L398,177 M385,158 L411,158 M398,177 L385,192 M398,177 L411,192 " fill="none" filter="url(#ffispdra4rdmd)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="376.5" y="213.7383">Charlie</text><!--link Alice to Bob--><path d="M41.05,358 C124.83,358 446.36,358 530.67,358 " fill="none" id="Alice-Bob" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="535.87,358,526.87,354,530.87,358,526.87,362,535.87,358" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="36.01,358,45.01,362,41.01,358,45.01,354,36.01,358" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="60.5" y="350.6855">Alice与Bob互相验证公钥有效性，并对对方的公钥进行信任签名，互相直接信任</text><!--link 密钥分发服务器[key server] to Alice--><path d="M298.31,38.28 C226,48.26 130.48,72.67 69,132 C21.48,177.85 15.32,258.32 16.92,309.57 " fill="none" id="密钥分发服务器[key server]-Alice" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="17.11,314.74,20.7732,305.5977,16.9244,309.7434,12.7787,305.8947,17.11,314.74" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="303.47,37.58,294.0135,34.8278,298.5155,38.253,295.0903,42.755,303.47,37.58" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="282" x="70" y="180.1855">Alice将信任签名后的Bob的公钥提交至密钥服务器</text><!--link 密钥分发服务器[key server] to Bob--><path d="M499.93,36.36 C581.29,42.29 686.81,55.21 719,83 C789.17,143.59 825.41,209.94 771,285 C723.85,350.03 616.22,357.41 571.29,357.51 " fill="none" id="密钥分发服务器[key server]-Bob" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="566.13,357.49,575.1185,361.5157,571.13,357.5043,575.1414,353.5157,566.13,357.49" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="494.6,35.98,503.2912,40.6128,499.5872,36.3373,503.8628,32.6333,494.6,35.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="798" y="180.1855">Bob将信任签名后的Alice公钥提交至密钥服务器</text><!--link Charlie to Bob--><path d="M422.64,211.19 C438.36,233.01 459.56,261.3 480,285 C496.81,304.49 517.64,325.26 532.39,339.46 " fill="none" id="Charlie-Bob" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="536,342.93,532.2611,333.8184,532.3868,339.4739,526.7313,339.5996,536,342.93" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="419.57,206.92,421.5719,216.5633,422.487,210.9809,428.0693,211.8961,419.57,206.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="282" x="481" y="271.6855">Charlie与Bob过去已互相确认公钥，互相直接信任</text><!--link 密钥分发服务器[key server] to Charlie--><path d="M398,53.14 C398,72.55 398,101.71 398,126.52 " fill="none" id="密钥分发服务器[key server]-&gt;Charlie" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="398,131.74,402,122.74,398,126.74,394,122.74,398,131.74" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="399" y="97.6855">从密钥服务器拉取更新后的Bob公钥，及其关联的公钥</text><!--link Charlie to Alice--><path d="M376.27,185.06 C352.53,194.61 313.17,209.44 278,218 C185.54,240.49 141.18,189.66 66,248 C46.68,262.99 35.59,287.73 29.26,309.85 " fill="none" id="Charlie-&gt;Alice" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="27.9,314.82,34.1233,307.1865,29.2132,309.9955,26.4041,305.0854,27.9,314.82" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="145" y="262.6855">Charlie知晓Bob对Alice进行信任签名，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="373" x="67" y="280.2305">Charlie相信Bob已经对Alice的的证书进行过检查，并间接信任Alice</text><!--
@startuml
:Alice: <-right-> :Bob: :Alice与Bob互相验证公钥有效性，并对对方的公钥进行信任签名，互相直接信任
:Alice: <-up-> (密钥分发服务器[key server]) :Alice将信任签名后的Bob的公钥提交至密钥服务器
:Bob: <-up-> (密钥分发服务器[key server]) :Bob将信任签名后的Alice公钥提交至密钥服务器
:Charlie: <- -> :Bob: :Charlie与Bob过去已互相确认公钥，互相直接信任
:Charlie: <-up- (密钥分发服务器[key server]) :从密钥服务器拉取更新后的Bob公钥，及其关联的公钥
:Charlie: - -> :Alice: :Charlie知晓Bob对Alice进行信任签名，\nCharlie相信Bob已经对Alice的的证书进行过检查，并间接信任Alice
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_252-b09
Operating System: Linux
OS Version: 5.4.52-1-MANJARO
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>